<div
  class="h-[60px] w-full border-b border-gray-300 border-solid border-t-0 border-x-0 p-4 flex items-center fixed"
>
  <h1 class="text-3xl">Clients</h1>
</div>

<div class="p-4 mt-[60px]">
  <div class="flex justify-between mb-4">
    <span class="p-input-icon-left">
      <i class="pi pi-search"></i>
      <input type="text" class="text-input" [formControl]="search" />
    </span>
    <button class="btn" (click)="showAddClientModal()">Add client</button>
  </div>

  <p-table
    *ngIf="clients$ | async as clients"
    [value]="clients | filter : search.value || ''"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Contact Name</th>
        <th>Contact Email</th>
        <th>Since</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-client>
      <tr>
        <td>{{ client.id }}</td>
        <td>{{ client.name }}</td>
        <td>{{ client.contactName }}</td>
        <td>{{ client.contactEmail }}</td>
        <td>{{ client.createdAt }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>
<p-dialog
  header="Add client"
  [(visible)]="addClientModalVisible"
  [style]="{ width: '400px' }"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
>
  <app-client-form
    *ngIf="addClientModalVisible"
    (onSubmit)="handleCreateClient($event)"
  ></app-client-form>
</p-dialog>
